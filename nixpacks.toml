[phases.setup]
aptPkgs = ["libicu-dev"]

[phases.install]
cmds = [
  "curl -sSL https://dot.net/v1/dotnet-install.sh -o dotnet-install.sh",
  "chmod +x dotnet-install.sh",
  "./dotnet-install.sh --channel 9.0 --install-dir /app/.dotnet",
  "/app/.dotnet/dotnet restore IsYonetimiSistemi.Shared/IsYonetimiSistemi.Shared.csproj",
  "/app/.dotnet/dotnet restore IsYonetimiSistemi.TelegramBot/IsYonetimiSistemi.TelegramBot.csproj"
]

[phases.build]
cmds = [
  "/app/.dotnet/dotnet publish IsYonetimiSistemi.TelegramBot/IsYonetimiSistemi.TelegramBot.csproj -c Release -o out --no-restore --self-contained true -r linux-x64"
]

[start]
cmd = "./out/IsYonetimiSistemi.TelegramBot"